{
    "checkpoint_path" : null,
    "checkpoint_cleanunet_path": "checkpoints/cleanunet/pretrained.pkl",
    "checkpoint_cleanspecnet_path": "checkpoints/cleanspecnet/1000000.pkl",

    "data_dir": "../../DATASETS/LJSpeech-1.1/",
    "train_metadata": "./filelists/ljs_audio_text_train_filelist.txt",
    "test_metadata": "./filelists/ljs_audio_text_val_filelist.txt",

    "freeze_cleanspecnet" : true,
    "freeze_cleanunet" : false,
    "cleanunet2_config": {
        "cleanunet_input_channels": 1,
        "cleanunet_output_channels": 1,
        "cleanunet_channels_H": 64,
        "cleanunet_max_H": 768,
        "cleanunet_encoder_n_layers": 8,
        "cleanunet_kernel_size": 4,
        "cleanunet_stride": 2,
        "cleanunet_tsfm_n_layers": 5, 
        "cleanunet_tsfm_n_head": 8,
        "cleanunet_tsfm_d_model": 512, 
        "cleanunet_tsfm_d_inner": 2048,
        "cleanspecnet_input_channels": 513, 
        "cleanspecnet_num_conv_layers":5, 
        "cleanspecnet_kernel_size":4, 
        "cleanspecnet_stride":1,
        "cleanspecnet_num_attention_layers":5, 
        "cleanspecnet_num_heads":8, 
        "cleanspecnet_hidden_dim":512, 
        "cleanspecnet_dropout":0.1  
    },
    "resblock": "1",
    "num_gpus": 0,
    "batch_size": 16,
    "learning_rate": 0.0002,
    "adam_b1": 0.8,
    "adam_b2": 0.99,
    "lr_decay": 0.999,
    "seed": 1234,

    "segment_size": 8192,
    "num_mels": 80,
    "num_freq": 1025,
    "n_fft": 1024,
    "hop_size": 256,
    "win_size": 1024,

    "sampling_rate": 24000,

    "fmin": 0,
    "fmax": 8000,
    "fmax_for_loss": null, 

    "loss_config":{
        "ell_p": 1,
        "ell_p_lambda": 1,
        "stft_lambda": 1,
        "stft_config":{
            "sc_lambda": 0.5,
            "mag_lambda": 0.5,
            "band": "full",
            "hop_sizes": [50, 120, 240],
            "win_lengths": [240, 600, 1200],
            "fft_sizes": [512, 1024, 2048]
        }
    },
    "augmentations": [
        {
            "name": "AddBackgroundNoise",
            "params": {
                "background_paths": "/home/fred/Projetos/DATASETS/noises/bbc_effects/BBC03_Household/",
                "min_snr_in_db": 15.0,
                "max_snr_in_db": 30.0,
                "p": 0.4
            }
        },
        {
            "name": "ApplyImpulseResponse",
            "params": {
                "ir_paths": "/home/fred/Projetos/DATASETS/RIRS_NOISES/real_rirs_isotropic_noises/",
                "p": 0.4
            }
        },   
        {
            "name": "Gain",
            "params": {
                "min_gain_in_db": -18.0,
                "max_gain_in_db": 6.0,
                "p": 0.3
            }             
        },
        {
            "name": "AddColoredNoise",
            "params": {
                "min_snr_in_db": 15.0,
                "max_snr_in_db": 30.0,
                "min_f_decay": -1.0,
                "max_f_decay": 1.0,
                "p": 0.3
            }
        }         
    ],
    "num_workers": 8,

    "dist_config": {
        "dist_backend": "nccl",
        "dist_url": "tcp://localhost:54321",
        "world_size": 1
    }
}
